{
  "timestamp": "2025-08-05T19:48:17.331477",
  "tests": {
    "network_connectivity": {
      "SOLAX přímé připojení": {
        "status": "success",
        "host": "192.168.10.51",
        "port": 502
      },
      "Multiplexer endpoint": {
        "status": "success",
        "host": "192.168.10.83",
        "port": 5020
      },
      "Localhost multiplexer": {
        "status": "success",
        "host": "localhost",
        "port": 5020
      },
      "127.0.0.1 multiplexer": {
        "status": "success",
        "host": "127.0.0.1",
        "port": 5020
      }
    },
    "network": {
      "SOLAX přímé připojení": {
        "status": "success",
        "host": "192.168.10.51",
        "port": 502
      },
      "Multiplexer endpoint": {
        "status": "success",
        "host": "192.168.10.83",
        "port": 5020
      },
      "Localhost multiplexer": {
        "status": "success",
        "host": "localhost",
        "port": 5020
      },
      "127.0.0.1 multiplexer": {
        "status": "success",
        "host": "127.0.0.1",
        "port": 5020
      }
    },
    "multiplexer_container": {
      "status": "running"
    },
    "integration_config": {
      "host": "192.168.10.83",
      "port": 5020,
      "modbus_addr": 4,
      "plugin": "solax",
      "scan_interval": 15,
      "disabled": false
    },
    "solax_direct": {
      "connection": "success",
      "registers": {
        "0x1c": {
          "name": "Battery SOC %",
          "error": "[Errno 54] Connection reset by peer",
          "status": "exception"
        },
        "0x16": {
          "name": "Battery Power W",
          "error": "[Errno 32] Broken pipe",
          "status": "exception"
        },
        "0x46": {
          "name": "Grid Power W",
          "error": "[Errno 32] Broken pipe",
          "status": "exception"
        },
        "0x94": {
          "name": "PV Power W",
          "error": "[Errno 32] Broken pipe",
          "status": "exception"
        },
        "0x00": {
          "name": "Inverter Status",
          "error": "[Errno 32] Broken pipe",
          "status": "exception"
        },
        "0x01": {
          "name": "Inverter Mode",
          "error": "[Errno 32] Broken pipe",
          "status": "exception"
        },
        "0x0a": {
          "name": "DC Voltage 1",
          "error": "[Errno 32] Broken pipe",
          "status": "exception"
        },
        "0x0b": {
          "name": "DC Current 1",
          "error": "[Errno 32] Broken pipe",
          "status": "exception"
        },
        "0x0c": {
          "name": "DC Power 1",
          "error": "[Errno 32] Broken pipe",
          "status": "exception"
        },
        "0x18": {
          "name": "AC Power Total",
          "error": "[Errno 32] Broken pipe",
          "status": "exception"
        },
        "0x19": {
          "name": "AC Frequency",
          "error": "[Errno 32] Broken pipe",
          "status": "exception"
        },
        "0x1a": {
          "name": "AC Voltage R",
          "error": "[Errno 32] Broken pipe",
          "status": "exception"
        },
        "0x1b": {
          "name": "AC Current R",
          "error": "[Errno 32] Broken pipe",
          "status": "exception"
        }
      }
    },
    "multiplexer": {
      "connection": "success",
      "registers": {
        "0x1c": {
          "name": "Battery SOC %",
          "error": "Modbus Error: [Connection] ModbusTcpClient 192.168.10.83:5020: Connection unexpectedly closed 0.003 seconds into read of unbounded read bytes without response from device before it closed connection",
          "status": "exception"
        },
        "0x16": {
          "name": "Battery Power W",
          "error": "Modbus Error: [Connection] ModbusTcpClient 192.168.10.83:5020: Connection unexpectedly closed 0.003 seconds into read of unbounded read bytes without response from device before it closed connection",
          "status": "exception"
        },
        "0x46": {
          "name": "Grid Power W",
          "error": "Modbus Error: [Connection] ModbusTcpClient 192.168.10.83:5020: Connection unexpectedly closed 0.033 seconds into read of unbounded read bytes without response from device before it closed connection",
          "status": "exception"
        },
        "0x94": {
          "name": "PV Power W",
          "error": "Modbus Error: [Connection] ModbusTcpClient 192.168.10.83:5020: Connection unexpectedly closed 0.003 seconds into read of unbounded read bytes without response from device before it closed connection",
          "status": "exception"
        },
        "0x00": {
          "name": "Inverter Status",
          "error": "Modbus Error: [Connection] ModbusTcpClient 192.168.10.83:5020: Connection unexpectedly closed 0.003 seconds into read of unbounded read bytes without response from device before it closed connection",
          "status": "exception"
        },
        "0x01": {
          "name": "Inverter Mode",
          "error": "Modbus Error: [Connection] ModbusTcpClient 192.168.10.83:5020: Connection unexpectedly closed 0.003 seconds into read of unbounded read bytes without response from device before it closed connection",
          "status": "exception"
        },
        "0x0a": {
          "name": "DC Voltage 1",
          "error": "Modbus Error: [Connection] ModbusTcpClient 192.168.10.83:5020: Connection unexpectedly closed 0.003 seconds into read of unbounded read bytes without response from device before it closed connection",
          "status": "exception"
        },
        "0x0b": {
          "name": "DC Current 1",
          "error": "Modbus Error: [Connection] ModbusTcpClient 192.168.10.83:5020: Connection unexpectedly closed 0.003 seconds into read of unbounded read bytes without response from device before it closed connection",
          "status": "exception"
        },
        "0x0c": {
          "name": "DC Power 1",
          "error": "Modbus Error: [Connection] ModbusTcpClient 192.168.10.83:5020: Connection unexpectedly closed 0.003 seconds into read of unbounded read bytes without response from device before it closed connection",
          "status": "exception"
        },
        "0x18": {
          "name": "AC Power Total",
          "error": "Modbus Error: [Connection] ModbusTcpClient 192.168.10.83:5020: Connection unexpectedly closed 0.003 seconds into read of unbounded read bytes without response from device before it closed connection",
          "status": "exception"
        },
        "0x19": {
          "name": "AC Frequency",
          "error": "Modbus Error: [Connection] ModbusTcpClient 192.168.10.83:5020: Connection unexpectedly closed 0.003 seconds into read of unbounded read bytes without response from device before it closed connection",
          "status": "exception"
        },
        "0x1a": {
          "name": "AC Voltage R",
          "error": "Modbus Error: [Connection] ModbusTcpClient 192.168.10.83:5020: Connection unexpectedly closed 0.002 seconds into read of unbounded read bytes without response from device before it closed connection",
          "status": "exception"
        },
        "0x1b": {
          "name": "AC Current R",
          "error": "Modbus Error: [Connection] ModbusTcpClient 192.168.10.83:5020: Connection unexpectedly closed 0.003 seconds into read of unbounded read bytes without response from device before it closed connection",
          "status": "exception"
        }
      }
    },
    "ha_container": {
      "nc -zv localhost 5020": {
        "status": "failed",
        "error": ""
      },
      "nc -zv 192.168.10.83 5020": {
        "status": "success",
        "output": ""
      },
      "nc -zv 127.0.0.1 5020": {
        "status": "failed",
        "error": ""
      }
    }
  },
  "summary": {
    "total_tests": 0,
    "successful_tests": 0,
    "failed_tests": 0,
    "recommendations": [
      "✅ Multiplexer endpoint je dostupný",
      "⚠️ Modbus připojení OK, ale registry neodpovídají",
      "✅ Připojení z HA kontejneru funguje"
    ],
    "network_connectivity": "4/4",
    "modbus_registers": "0/13",
    "ha_container_tests": "1/3"
  }
}